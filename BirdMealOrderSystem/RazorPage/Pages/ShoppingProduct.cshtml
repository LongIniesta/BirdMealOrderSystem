@page
@model RazorPage.Pages.ShoppingProductModel
@{
}
<h3>Product Shopping</h3>
<table border="1">
    <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Price</th>
        <th>Discount</th>
        <th>Description</th>
        <th>Supllier</th>
        <th>Price after discounted</th>
    </tr>
    @foreach (var product in Model.Products)
    {
        <tr align="center">
            <td><img src="~/uploads/@product.ImageLink" width="120" height="100" /></td>
            <td>@product.ProductName</td>
            <td>@product.UnitPrice</td>
            <td>@product.ProductDiscount (%)</td>
            <td>@product.ProductDescription</td>
            <td>@product.Supplier.SupplierName</td>
            <td>@((double)product.UnitPrice - (((double)product.UnitPrice)*product.ProductDiscount/100))</td>
            <td>
                <a asp-page="./Create" asp-page-handler="BuyNow" asp-route-id="P@product.ProductId">Add to cart</a>
            </td>
        </tr>
    }
</table>